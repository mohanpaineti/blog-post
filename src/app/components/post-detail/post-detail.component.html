<div class="container mt-4 fade-in" *ngIf="post">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card glass-card">
        <img [src]="post.imageUrl" class="card-img-top" [alt]="post.title">
        <div class="card-body">
          <h1 class="card-title">{{post.title}}</h1>
          <p class="card-text text-muted">{{post.date | date:'mediumDate'}}</p>
          <p class="card-text lead">{{post.summary}}</p>
          
          <!-- Add the rating component -->
          <app-post-rating 
            [currentRating]="post.rating || 0"
            [ratings]="post.ratings || []"
            (ratingChange)="onRatingChange($event)">
          </app-post-rating>

          <div class="card-text content">
            {{post.content}}
          </div>

          <!-- Add back to home button -->
          <div class="mt-4 text-center">
            <a routerLink="/" class="btn btn-primary">
              <i class="fas fa-arrow-left me-2"></i>
              Back to Home
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container mt-4" *ngIf="!post">
  <div class="alert alert-warning">
    Post not found
  </div>
  <div class="text-center mt-3">
    <a routerLink="/" class="btn btn-primary">
      <i class="fas fa-home me-2"></i>
      Return to Home
    </a>
  </div>
</div>
